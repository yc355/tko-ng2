<div class="row">
  <div class="col-md-12">
    <form class="form-inline">
      <div class="form-group">
        <input type="text" class="form-control" placeholder="Fighter search..." autofocus [(ngModel)]="query">
      </div>
      <button type="submit" class="btn btn-default" (click)="onSearch(query)">Search</button>
    </form>
    <p *ngIf="searching">Searching...</p>
    <p *ngIf="notFoundMessage">{{notFoundMessage}}</p>
  </div>
</div>
<br>
<div class="row" *ngIf="result">
  <div class="col-md-4">
    <p id="name">{{result.name}}</p>
    <p id="nickname">{{result.nickname}}</p>
    <table>
      <tr>
        <td id="fighter-img-column">
          <img id="fighter-img" src="{{result.img_url}}"><br><br>
          <img id="flag-img" src="{{result.flag_url}}">
        </td>
        <td id="fighter-details-column">
          <p id="locality"><strong>Fighting out of</strong><br>{{result.locality}}<br>{{result.nationality}}</p>
          <p id="age"><strong>Age</strong><br>{{result.age}}</p>
          <p id="height"><strong>Height</strong><br>{{result.height}}</p>
          <p id="weight"><strong>Weight</strong><br>{{result.weight}}</p>
          <p id="weight-class"><strong>Weight class</strong><br>{{result.weight_class}}</p>
          <p id="association"><strong>Association</strong><br>{{result.association}}</p>
        </td>
      </tr>
    </table>
  </div>
  <div id="fight-section" class="col-md-8">
    <table>
      <tr>
        <td class="stat-column">
          <div class="large-stat"><span class="wins-number">{{result.wins.total}}</span><span class="wins-text"> WIN{{result.wins.total != '1' ? 'S' : ''}}</span></div>
          <div class="small-stat">
            <div *ngIf="result.wins.knockouts != '0'"><span class="wins-number">{{result.wins.knockouts}}</span><span class="wins-text"> by knockout</span></div>
            <div *ngIf="result.wins.submissions != '0'"><span class="wins-number">{{result.wins.submissions}}</span><span class="wins-text"> by submission</span></div>
            <div *ngIf="result.wins.decision != '0'"><span class="wins-number">{{result.wins.decisions}}</span><span class="wins-text"> by decision</span></div>
            <div *ngIf="result.wins.others != '0'"><span class="wins-number">{{result.wins.others}}</span><span class="wins-text"> by other</span></div>
          </div>
        </td>
        <td class="stat-column">
          <div class="large-stat"><span class="losses-number">{{result.losses.total}}</span><span class="losses-text"> LOSS{{result.losses.total != '1' ? 'ES' : ''}}</span></div>
          <div class="small-stat">
            <div *ngIf="result.losses.knockouts != '0'"><span class="losses-number">{{result.losses.knockouts}}</span><span class="losses-text"> by knockout</span></div>
            <div *ngIf="result.losses.submissions != '0'"><span class="losses-number">{{result.losses.submissions}}</span><span class="losses-text"> by submission</span></div>
            <div *ngIf="result.losses.decision != '0'"><span class="losses-number">{{result.losses.decisions}}</span><span class="losses-text"> by decision</span></div>
            <div *ngIf="result.losses.others != '0'"><span class="losses-number">{{result.losses.others}}</span><span class="losses-text"> by other</span></div>
          </div>
        </td>
        <td class="stat-column other-column">
          <div *ngIf="result.draws != 0">{{result.draws}} DRAW{{result.draws != '1' ? 'S' : ''}}</div>
          <div *ngIf="result.no_contests != 0">{{result.no_contests}} NO CONTEST{{result.no_contests != '1' ? 'S' : ''}}</div>
        </td>
      </tr>
    </table><br>
    <table id="fights-table" class="table table-condensed">
      <thead>
        <tr class="active">
          <th>Result</th>
          <th>Opponent</th>
          <th>Method</th>
          <th>Event</th>
          <th>Date</th>
          <th>Round</th>
          <th>Location</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let fight of result.fights" [ngClass]="{success: fight.result == 'win', danger: fight.result == 'loss', info: fight.result == 'draw' || fight.result == 'NC'}">
          <td>{{fight.result | uppercase}}</td>
          <td><a (click)="onSearch(fight.opponent)">{{fight.opponent}}</a></td>
          <td>{{fight.method}} {{fight.method == 'Draw' ? '' : '(' + fight.method_details + ')'}}</td>
          <td>{{fight.event}}</td>
          <td>{{fight.date}}</td>
          <td>{{fight.round}}</td>
          <td>{{fight.time}}</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
